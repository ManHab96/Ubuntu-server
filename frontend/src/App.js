import React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { AgencyProvider } from './contexts/AgencyContext';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport { Toaster } from './components/ui/sonner';\n\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport Agencies from './pages/Agencies';\nimport Cars from './pages/Cars';\nimport Files from './pages/Files';\nimport Promotions from './pages/Promotions';\nimport Appointments from './pages/Appointments';\nimport Customers from './pages/Customers';\nimport Conversations from './pages/Conversations';\nimport Config from './pages/Config';\nimport AIPrompt from './pages/AIPrompt';\n\nimport './App.css';\n\nconst PrivateRoute = ({ children }) => {\n  const { token, loading } = useAuth();\n  \n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-muted-foreground\">Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  return token ? children : <Navigate to=\"/login\" />;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <AgencyProvider>\n        <ThemeProvider>\n          <BrowserRouter>\n            <Routes>\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n              <Route\n                path=\"/dashboard\"\n                element={\n                  <PrivateRoute>\n                    <Dashboard />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/agencies\"\n                element={\n                  <PrivateRoute>\n                    <Agencies />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/cars\"\n                element={\n                  <PrivateRoute>\n                    <Cars />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/files\"\n                element={\n                  <PrivateRoute>\n                    <Files />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/promotions\"\n                element={\n                  <PrivateRoute>\n                    <Promotions />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/appointments\"\n                element={\n                  <PrivateRoute>\n                    <Appointments />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/customers\"\n                element={\n                  <PrivateRoute>\n                    <Customers />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/conversations\"\n                element={\n                  <PrivateRoute>\n                    <Conversations />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/config\"\n                element={\n                  <PrivateRoute>\n                    <Config />\n                  </PrivateRoute>\n                }\n              />\n              <Route\n                path=\"/ai-prompt\"\n                element={\n                  <PrivateRoute>\n                    <AIPrompt />\n                  </PrivateRoute>\n                }\n              />\n            </Routes>\n            <Toaster position=\"top-right\" />\n          </BrowserRouter>\n        </ThemeProvider>\n      </AgencyProvider>\n    </AuthProvider>\n  );\n}\n\nexport default App;
